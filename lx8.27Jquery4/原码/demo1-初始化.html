<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title> </title>
<link href="style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery-1.9.1.js"></script>
<script type="text/javascript">
$(function(){
	var page=1;
	var i=4;
	$("span.next").click(function(){
		// 查找父容器
		var $parent=$(this).parents("div.v_show");
		// 通过父容器查找  hignlight_tip
		var $v_tip=$parent.find("div.highlight_tip");
		//通过父容器查找 v_content_lists;
		var $v_show=$parent.find("div.v_content_list");
		//通过父容器找到 v_content
		var $v_content=$parent.find("div.v_content");

		//取出内容区的宽度
		var v_width=$v_content.width();
		//取出li的个数
		var li_count=$v_show.find("li").length;
		//计算总页数
		var pagecount= Math.ceil(li_count/i);
		if( !$v_show.is(":animated")){
			if(page==pagecount){
				$v_show.animate({left:'0px'},'slow');
				page=1;
			}else{
				$v_show.animate({left:'-='+v_width},'slow');
				page++;
			}
			$parent.find("span").eq(page-1).addClass("current")
			.siblings().removeClass("current");
		}
	});

	$("span.prev").click(function(){
		// 查找父容器
		var $parent=$(this).parents("div.v_show");
		// 通过父容器查找  hignlight_tip
		var $v_tip=$parent.find("div.highlight_tip");
		//通过父容器查找 v_content_lists;
		var $v_show=$parent.find("div.v_content_list");
		//通过父容器找到 v_content
		var $v_content=$parent.find("div.v_content");
		//取出内容区的宽度
		var v_width=$v_content.width();
		//取出li的个数
		var li_count=$v_show.find("li").length;
		var pagecount= Math.ceil(li_count/i);
		if( !$v_show.is(":animated")){
			if(page==1){
				$v_show.animate({left:'-='+(v_width*(pagecount-1))+'px'},'slow');
				page=pagecount;
			}else{
				$v_show.animate({left:'+='+v_width},'slow');
				page--;
			}
			$parent.find("span").eq(page-1).addClass("current")
						.siblings().removeClass("current");
		}
	});
})
	
</script>
</head>
<body>

<div class="v_show">
	<div class="v_caption">
		<h2 class="cartoon" title="卡通动漫">卡通动漫</h2>
		<div class="highlight_tip">
			<span class="current">1</span><span>2</span><span>3</span><span>4</span>
		</div>
		<div class="change_btn">
			<span class="prev" >上一页</span>
			<span class="next">下一页</span>
		</div>
		<em><a href="#">更多>></a></em>
	</div>
	<div class="v_content">
		<div  class="v_content_list">
			<ul>
				<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
				<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
				<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
				<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
				<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
				<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
				<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
				<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
				<li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
		     </ul>
		</div>
	</div>
</div>

</body>
</html>